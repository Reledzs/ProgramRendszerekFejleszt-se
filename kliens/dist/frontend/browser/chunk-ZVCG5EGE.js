import{a as G}from"./chunk-VYZOO4Z5.js";import{a as R,b as H,c as V,d as z,e as j,f as A,g as N,h as L,i as K,j as U,k as q}from"./chunk-GIISCLF3.js";import{a as F,b as $}from"./chunk-XVS2ME6S.js";import{b as P,c as O}from"./chunk-BRJT4V7N.js";import"./chunk-DXXU7KGT.js";import{s as I}from"./chunk-GUNOTPQD.js";import{Bb as a,Cb as d,Db as B,Ga as l,Ib as S,Ka as h,Lb as s,Nb as f,Ob as v,Ra as E,Sb as T,Wa as m,bb as g,ga as C,ha as k,ib as i,jb as o,kb as M,lb as r,mb as c,nc as w,ob as D,oc as y,qb as x,rb as b}from"./chunk-UYNK6D4K.js";function Q(t,e){t&1&&(i(0,"th",19),a(1,"Foglal\xF3"),o())}function W(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),d(n.userEmail)}}function X(t,e){t&1&&(i(0,"th",19),a(1,"Modell"),o())}function Y(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),d(n.carModel)}}function Z(t,e){t&1&&(i(0,"th",19),a(1,"M\xE1rka"),o())}function tt(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),d(n.carBrand)}}function et(t,e){t&1&&(i(0,"th",21),a(1,"K\xE9rt Extr\xE1k"),o())}function nt(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),d(n.extras)}}function it(t,e){t&1&&(i(0,"th",19),a(1,"Foglal\xE1s d\xE1tuma"),o())}function ot(t,e){if(t&1&&(i(0,"td",20),a(1),s(2,"date"),o()),t&2){let n=e.$implicit;l(),d(f(2,1,n.bookingDate,"short"))}}function at(t,e){t&1&&(i(0,"th",19),a(1,"Foglal\xE1s kezdete"),o())}function lt(t,e){if(t&1&&(i(0,"td",20),a(1),s(2,"date"),o()),t&2){let n=e.$implicit;l(),d(f(2,1,n.startDate,"yyyy.MM.dd"))}}function mt(t,e){t&1&&(i(0,"th",19),a(1,"Foglal\xE1s v\xE9ge"),o())}function rt(t,e){if(t&1&&(i(0,"td",20),a(1),s(2,"date"),o()),t&2){let n=e.$implicit;l(),d(f(2,1,n.endDate,"yyyy.MM.dd"))}}function ct(t,e){t&1&&(i(0,"th",19),a(1,"\xC1r"),o())}function dt(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),B("",n.total," Ft")}}function pt(t,e){t&1&&(i(0,"th",19),a(1,"Foglal\xE1s st\xE1tusza"),o())}function gt(t,e){if(t&1&&(i(0,"td",20),a(1),o()),t&2){let n=e.$implicit;l(),d(n.status)}}function st(t,e){t&1&&(i(0,"th",19),a(1,"M\u0171veletek"),o())}function ft(t,e){if(t&1){let n=D();i(0,"td",20)(1,"button",22),x("click",function(){let _=C(n).$implicit,u=b();return k(u.completeBooking(_._id))}),i(2,"mat-icon"),a(3,"check"),o()(),i(4,"button",23),x("click",function(){let _=C(n).$implicit,u=b();return k(u.cancelBooking(_._id))}),i(5,"mat-icon"),a(6,"close"),o()()()}}function _t(t,e){t&1&&M(0,"tr",24)}function ut(t,e){t&1&&M(0,"tr",25)}function Ct(t,e){t&1&&(i(0,"p"),a(1,"Nincs foglal\xE1s jelenleg."),o())}var J=class t{constructor(e){this.bookingservice=e}bookings=[];displayedColumns=["email","brand","model","extra","bookingDate","startDate","endDate","price","bookingState","actions"];ngOnInit(){this.loadData()}cancelBooking(e){this.bookingservice.admincanceledbooking(e).subscribe(n=>{this.loadData()})}completeBooking(e){this.bookingservice.admincompletedbooking(e).subscribe(n=>{this.loadData()})}loadData(){this.bookingservice.getAll().subscribe({next:e=>{this.bookings=e},error:e=>{console.log(e)}})}static \u0275fac=function(n){return new(n||t)(h(G))};static \u0275cmp=E({type:t,selectors:[["app-booking-manager"]],features:[S([{provide:T,useValue:"hu"}])],decls:40,vars:3,consts:[["noUsersTemplate",""],[1,"table-container"],[1,"table-header"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","brand"],["matColumnDef","extra"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","bookingDate"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","price"],["matColumnDef","bookingState"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","color","primary","matTooltip","Complete",3,"click"],["mat-icon-button","","color","warn","matTooltip","Cancel",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,p){n&1&&(i(0,"div",1)(1,"div",2)(2,"h2"),a(3,"Foglal\xE1sok kezel\xE9se"),o()(),r(4),i(5,"table",3),r(6,4),m(7,Q,2,0,"th",5)(8,W,2,1,"td",6),c(),r(9,7),m(10,X,2,0,"th",5)(11,Y,2,1,"td",6),c(),r(12,8),m(13,Z,2,0,"th",5)(14,tt,2,1,"td",6),c(),r(15,9),m(16,et,2,0,"th",10)(17,nt,2,1,"td",6),c(),r(18,11),m(19,it,2,0,"th",5)(20,ot,3,4,"td",6),c(),r(21,12),m(22,at,2,0,"th",5)(23,lt,3,4,"td",6),c(),r(24,13),m(25,mt,2,0,"th",5)(26,rt,3,4,"td",6),c(),r(27,14),m(28,ct,2,0,"th",5)(29,dt,2,1,"td",6),c(),r(30,15),m(31,pt,2,0,"th",5)(32,gt,2,1,"td",6),c(),r(33,16),m(34,st,2,0,"th",5)(35,ft,7,0,"td",6),c(),m(36,_t,1,0,"tr",17)(37,ut,1,0,"tr",18),o(),c(),m(38,Ct,2,0,"ng-template",null,0,v),o()),n&2&&(l(5),g("dataSource",p.bookings),l(31),g("matHeaderRowDef",p.displayedColumns),l(),g("matRowDefColumns",p.displayedColumns))},dependencies:[y,w,q,R,V,N,z,H,L,j,A,K,U,$,F,O,P,I],styles:[".table-container[_ngcontent-%COMP%]{max-width:1300px;margin:20px auto;overflow-x:auto;align-self:top}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:700;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd}button[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]})};export{J as BookingManagerComponent};
