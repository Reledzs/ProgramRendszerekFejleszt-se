import{a as T}from"./chunk-S5KDHQ3R.js";import{a as Y,b as Z,c as $,d as ee,e as te,f as ne}from"./chunk-D6VNJF2Z.js";import{a as ae,e as ie,f as oe,g as re,h as le}from"./chunk-D6VN6RPM.js";import"./chunk-YQIIGZSV.js";import{a as W,b as L,c as N,d as j,e as G,f as U,g as q,h as J,i as K,j as Q,k as X}from"./chunk-GIISCLF3.js";import{a as B,b as V}from"./chunk-XVS2ME6S.js";import{a as v,b as H,c as y}from"./chunk-BRJT4V7N.js";import"./chunk-DXXU7KGT.js";import{b as z,g as O,l as F,s as w}from"./chunk-GUNOTPQD.js";import{$ as f,Bb as r,Cb as I,Db as h,Fb as b,Ga as m,Gb as D,Hb as S,Ka as R,Ob as P,Ra as E,Wa as s,bb as M,ga as _,ha as C,ib as n,jb as a,kb as c,lb as u,mb as x,ob as A,qb as p,rb as k}from"./chunk-UYNK6D4K.js";var g=class t{title="";editmode=!1;selectedFile=null;extraService=f(T);extra=f(Z)??{name:"",price:"",details:""};ngOnInit(){this.extra.name==""?(this.title="\xDAj extra hozz\xE1ad\xE1sa",this.editmode=!1):(this.title="Extra szerkeszt\xE9se",this.editmode=!0)}dialogRef=f(Y);onSave(){this.editmode==!0?this.extraService.updateExtra(this.extra).subscribe({next:()=>this.dialogRef.close("referesh"),error:e=>console.error("Hiba ment\xE9s k\xF6zben:",e)}):this.extraService.addExtra(this.extra).subscribe({next:()=>this.dialogRef.close("referesh"),error:e=>console.error("Hiba ment\xE9s k\xF6zben:",e)})}onCancel(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=E({type:t,selectors:[["add-extra-dialog"]],decls:23,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModelChange","ngModel"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,o){i&1&&(n(0,"h2",0),r(1),a(),n(2,"div",1),c(3,"br"),n(4,"mat-form-field")(5,"mat-label"),r(6,"Elnevez\xE9s"),a(),n(7,"input",2),S("ngModelChange",function(l){return D(o.extra.name,l)||(o.extra.name=l),l}),a()(),c(8,"br"),n(9,"mat-form-field")(10,"mat-label"),r(11,"\xC1r/nap"),a(),n(12,"input",2),S("ngModelChange",function(l){return D(o.extra.price,l)||(o.extra.price=l),l}),a()(),c(13,"br"),n(14,"mat-form-field")(15,"mat-label"),r(16,"Le\xEDr\xE1s"),a(),n(17,"input",2),S("ngModelChange",function(l){return D(o.extra.details,l)||(o.extra.details=l),l}),a()()(),n(18,"div",3)(19,"button",4),p("click",function(){return o.onCancel()}),r(20,"M\xE9gse"),a(),n(21,"button",5),p("click",function(){return o.onSave()}),r(22,"Ment\xE9s"),a()()),i&2&&(m(),I(o.title),m(6),b("ngModel",o.extra.name),m(5),b("ngModel",o.extra.price),m(5),b("ngModel",o.extra.details))},dependencies:[oe,ie,ae,le,re,w,z,O,F,y,v,ee,te,ne],encapsulation:2})};function pe(t,e){t&1&&(n(0,"th",13),r(1," Elnevez\xE9s "),a())}function fe(t,e){if(t&1&&(n(0,"td",14),r(1),a()),t&2){let i=e.$implicit;m(),h(" ",i.name," ")}}function ue(t,e){t&1&&(n(0,"th",13),r(1," \xC1r/nap "),a())}function xe(t,e){if(t&1&&(n(0,"td",14),r(1),a()),t&2){let i=e.$implicit;m(),h(" ",i.price," ")}}function ge(t,e){t&1&&(n(0,"th",13),r(1," Le\xEDr\xE1s "),a())}function _e(t,e){if(t&1&&(n(0,"td",14),r(1),a()),t&2){let i=e.$implicit;m(),h(" ",i.details," ")}}function Ce(t,e){t&1&&(n(0,"th",13),r(1," Actions "),a())}function Ee(t,e){if(t&1){let i=A();n(0,"td",14)(1,"button",15),p("click",function(){let d=_(i).$implicit,l=k();return C(l.editextra(d))}),n(2,"mat-icon"),r(3,"edit"),a()(),n(4,"button",16),p("click",function(){let d=_(i).$implicit,l=k();return C(l.deleteextra(d))}),n(5,"mat-icon"),r(6,"delete"),a()()()}}function Me(t,e){t&1&&c(0,"tr",17)}function he(t,e){t&1&&c(0,"tr",18)}function be(t,e){t&1&&(n(0,"p"),r(1,"No users available."),a())}var me=class t{constructor(e){this.extraservices=e}extras=[];dialog=f($);displayedColumns=["name","price","details","actions"];ngOnInit(){this.loadData()}deleteextra(e){this.extraservices.deleteExtra(e._id).subscribe({next:i=>this.loadData(),error:i=>console.error("Hiba a ment\xE9s sor\xE1n:",i)})}editextra(e){this.dialog.open(g,{data:e,height:"600px",width:"1000px"}).afterClosed().subscribe(o=>{o!==void 0&&this.loadData()})}openAddExtraDialoge(){this.dialog.open(g,{height:"600px",width:"1000px"}).afterClosed().subscribe(i=>{i!==void 0&&this.loadData()})}loadData(){this.extraservices.getAll().subscribe({next:e=>{this.extras=e},error:e=>{console.log(e)}})}static \u0275fac=function(i){return new(i||t)(R(T))};static \u0275cmp=E({type:t,selectors:[["app-extra-manager"]],decls:25,vars:3,consts:[["noUsersTemplate",""],[1,"table-container"],[1,"table-header"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","details"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let d=A();n(0,"div",1)(1,"div",2)(2,"h2"),r(3,"B\xE9relhet\u0151 extr\xE1k kezel\xE9se"),a(),n(4,"button",3),p("click",function(){return _(d),C(o.openAddExtraDialoge())}),n(5,"mat-icon"),r(6,"add"),a(),r(7," \xDAj extra hozz\xE1ad\xE1sa "),a()(),n(8,"table",4),u(9,5),s(10,pe,2,0,"th",6)(11,fe,2,1,"td",7),x(),u(12,8),s(13,ue,2,0,"th",6)(14,xe,2,1,"td",7),x(),u(15,9),s(16,ge,2,0,"th",6)(17,_e,2,1,"td",7),x(),u(18,10),s(19,Ce,2,0,"th",6)(20,Ee,7,0,"td",7),x(),s(21,Me,1,0,"tr",11)(22,he,1,0,"tr",12),a()(),s(23,be,2,0,"ng-template",null,0,P)}i&2&&(m(8),M("dataSource",o.extras),m(13),M("matHeaderRowDef",o.displayedColumns),m(),M("matRowDefColumns",o.displayedColumns))},dependencies:[X,W,N,q,j,L,J,G,U,K,Q,V,B,y,v,H,w],styles:[".table-container[_ngcontent-%COMP%]{max-width:900px;margin:20px auto;overflow-x:auto;align-self:top}.table-header[_ngcontent-%COMP%]{display:flex;margin-top:10%;justify-content:space-between;align-items:center;margin-bottom:15px}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:700;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd}button[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]})};export{me as ExtraManagerComponent};
