import{S as s,V as r,_ as p,i as o,rc as a,sc as h}from"./chunk-UYNK6D4K.js";var c=class n{constructor(t){this.http=t}loggedIn=new o(!1);admin=new o(!1);isLoggedIn$=this.loggedIn.asObservable();isAdmin$=this.admin.asObservable();hasToken(){throw new Error("Method not implemented.")}isAuthenticated;login(t,e){let i={username:t,password:e},l=new a({"Content-Type":"application/json"});return this.http.post("http://localhost:5000/app/login",i,{headers:l,withCredentials:!0,responseType:"text"})}register(t){let e={email:t.email,name:t.name,address:t.address,nickname:t.nickname,password:t.password},i=new a({"Content-Type":"application/json"});return this.http.post("http://localhost:5000/app/register",e,{headers:i})}logout(){return this.http.post("http://localhost:5000/app/logout",{},{withCredentials:!0,responseType:"text"})}checkAuth(){return this.http.get("http://localhost:5000/app/checkAuth",{withCredentials:!0}).pipe(s(t=>this.loggedIn.next(t)))}checkAdmin(){return this.http.get("http://localhost:5000/app/checkAdmin",{withCredentials:!0}).pipe(s(t=>this.admin.next(t)))}initAuthStatus(){this.checkAuth().subscribe(t=>{this.admin.next(!1),t&&this.checkAdmin().subscribe(e=>{this.admin.next(e)})})}static \u0275fac=function(e){return new(e||n)(p(h))};static \u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})};export{c as a};
