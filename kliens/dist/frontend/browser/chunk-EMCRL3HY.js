import{a as P}from"./chunk-GS6W7T7Z.js";import{c as y}from"./chunk-KLQPCONT.js";import{b as w,d as g,g as M,h as O,m as k,o as I,p as N,q,r as E,t as T}from"./chunk-GUNOTPQD.js";import{Bb as u,Ga as l,Ka as f,Kb as h,Ra as b,Wa as s,bb as p,ib as o,ic as S,jb as a,kb as _,kc as x,oc as F,qb as C,rb as v}from"./chunk-UYNK6D4K.js";var G=n=>({"invalid-input":n});function j(n,i){n&1&&(o(0,"p"),u(1,"Email is required."),a())}function A(n,i){n&1&&(o(0,"p"),u(1,"Email is invalid."),a())}function D(n,i){if(n&1&&(o(0,"div"),s(1,j,2,0,"p",3)(2,A,2,0,"p",3),a()),n&2){let t,e,r=v();l(),p("ngIf",((t=r.signupForm.get("email"))==null?null:t.errors)&&((t=r.signupForm.get("email"))==null?null:t.errors.required)),l(),p("ngIf",((e=r.signupForm.get("email"))==null?null:e.errors)&&((e=r.signupForm.get("email"))==null?null:e.errors.email))}}function R(n,i){n&1&&(o(0,"p"),u(1,"Password is required"),a())}function V(n,i){n&1&&(o(0,"p"),u(1,"Must be at least 6 characters."),a())}function U(n,i){if(n&1&&(o(0,"div"),s(1,R,2,0,"p",3)(2,V,2,0,"p",3),a()),n&2){let t,e,r=v();l(),p("ngIf",((t=r.signupForm.get("password"))==null?null:t.errors)&&((t=r.signupForm.get("password"))==null?null:t.errors.required)),l(),p("ngIf",((e=r.signupForm.get("password"))==null?null:e.errors)&&((e=r.signupForm.get("password"))==null?null:e.errors.minlength))}}function L(n,i){n&1&&(o(0,"p"),u(1,"Password is required"),a())}function z(n,i){n&1&&(o(0,"p"),u(1,"Passwords doesnt match"),a())}function H(n,i){if(n&1&&(o(0,"div"),s(1,L,2,0,"p",3)(2,z,2,0,"p",3),a()),n&2){let t,e,r=v();l(),p("ngIf",((t=r.signupForm.get("confirmPassword"))==null?null:t.errors)&&((t=r.signupForm.get("confirmPassword"))==null?null:t.errors.required)),l(),p("ngIf",((e=r.signupForm.get("confirmPassword"))==null?null:e.errors)&&((e=r.signupForm.get("confirmPassword"))==null?null:e.errors.mustMatch))}}var B=class n{constructor(i,t,e){this.formBuilder=i;this.authService=t;this.router=e}signupForm;ngOnInit(){this.signupForm=this.formBuilder.group({email:["",[g.required,g.email]],name:[""],address:[""],nickname:[""],password:["",[g.required,g.minLength(6)]],confirmPassword:["",g.required]},{validator:this.mustMatch("password","confirmPassword")})}mustMatch(i,t){return e=>{let r=e.controls[i],m=e.controls[t];m.errors&&m.errors.mustMatch||(r.value!==m.value?m.setErrors({mustMatch:!0}):m.setErrors(null))}}onSubmit(){this.signupForm.valid?this.authService.register(this.signupForm.value).subscribe({next:i=>{this.router.navigateByUrl("/login")},error:i=>{}}):console.log("Form not valid!")}back(){this.router.navigateByUrl("/login")}static \u0275fac=function(t){return new(t||n)(f(E),f(P),f(y))};static \u0275cmp=b({type:n,selectors:[["app-signup"]],decls:17,vars:7,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit","formGroup"],["formControlName","email","type","email","placeholder","Email","required","",3,"ngClass"],[4,"ngIf"],["formControlName","name","type","text","placeholder","Name","required",""],["formControlName","address","type","text","placeholder","Address","required",""],["formControlName","nickname","type","text","placeholder","Nickname","required",""],["formControlName","password","type","password","placeholder","Password","required",""],["formControlName","confirmPassword","type","password","placeholder","Confirm Password","required",""],[1,"buttons"],["type","submit"],["type","back",3,"click"]],template:function(t,e){if(t&1&&(o(0,"div",0)(1,"form",1),C("ngSubmit",function(){return e.onSubmit()}),_(2,"input",2),s(3,D,3,2,"div",3),_(4,"input",4)(5,"input",5)(6,"input",6)(7,"input",7),s(8,U,3,2,"div",3),_(9,"input",8),s(10,H,3,2,"div",3),o(11,"div",9)(12,"button",10),u(13,"Sign up"),a()(),o(14,"div",9)(15,"button",11),C("click",function(){return e.back()}),u(16,"Back"),a()()()()),t&2){let r,m,d,c;l(),p("formGroup",e.signupForm),l(),p("ngClass",h(5,G,(r=e.signupForm.get("email"))==null?null:r.errors)),l(),p("ngIf",((m=e.signupForm.get("email"))==null?null:m.invalid)&&((m=e.signupForm.get("email"))==null?null:m.touched)),l(5),p("ngIf",((d=e.signupForm.get("password"))==null?null:d.invalid)&&((d=e.signupForm.get("password"))==null?null:d.dirty)||((d=e.signupForm.get("password"))==null?null:d.touched)),l(2),p("ngIf",((c=e.signupForm.get("confirmPassword"))==null?null:c.invalid)&&((c=e.signupForm.get("confirmPassword"))==null?null:c.dirty)||((c=e.signupForm.get("confirmPassword"))==null?null:c.touched))}},dependencies:[T,k,w,M,O,q,I,N,F,S,x],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80%;max-width:400px;border:1px solid #ccc;border-radius:5px;padding:20px;gap:10px}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:5px}.login-form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;border:none;border-radius:5px}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;background-color:#6495ed;width:100%;border-radius:5px;padding:10px}.login-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#64edcd}.login-form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#409682}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6495ed}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4a6eb0}.invalid-input[_ngcontent-%COMP%]{border-color:red;border-width:3px;background-color:#fdd}.back[_ngcontent-%COMP%]{background-color:red}"]})};export{B as SignupComponent};
