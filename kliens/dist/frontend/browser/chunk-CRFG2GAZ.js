import{a as V}from"./chunk-635G6RZ3.js";import{a as $}from"./chunk-GS6W7T7Z.js";import{c as Z}from"./chunk-KLQPCONT.js";import{a as U,b as B,c as fe,d as O,e as L,f as z}from"./chunk-D6VNJF2Z.js";import{a as j,e as H,f as G,g as Y,h as K}from"./chunk-D6VN6RPM.js";import"./chunk-YQIIGZSV.js";import{a as ie,b as ae,c as re,d as oe,e as le,f as me,g as de,h as ce,i as se,j as pe,k as ue}from"./chunk-GIISCLF3.js";import{a as te,b as ne}from"./chunk-XVS2ME6S.js";import{a as v,b as ee,c as T}from"./chunk-BRJT4V7N.js";import"./chunk-DXXU7KGT.js";import{b as R,g as P,l as W,n as N,s as D}from"./chunk-GUNOTPQD.js";import{$ as C,Ab as k,Bb as l,Cb as I,Db as b,Ea as Q,Fb as g,Ga as s,Gb as _,Hb as M,Ka as F,Ob as X,Ra as y,Wa as h,bb as x,ga as d,ha as c,ib as e,jb as t,kb as f,lb as w,mb as S,ob as E,qb as u,rb as J}from"./chunk-UYNK6D4K.js";var q=class r{selectedFileName=null;title="";selectedFile=null;carService=C(V);car=C(B)??{brand:"",car_model:"",year:new Date().getFullYear(),price:0};ngOnInit(){this.title="\xDAj aut\xF3 hozz\xE1ad\xE1sa"}dialogRef=C(U);onSave(){this.selectedFile&&this.carService.addCar(this.car,this.selectedFile).subscribe({next:()=>this.dialogRef.close("refresh"),error:a=>console.error("Hiba ment\xE9s k\xF6zben:",a)})}onFileSelected(a){let n=a.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0],this.selectedFileName=n.files[0].name)}onCancel(){this.dialogRef.close()}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=y({type:r,selectors:[["add-car-dialog"]],decls:37,vars:6,consts:[["fileInput",""],["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","number",3,"ngModelChange","ngModel"],["for","file",1,"file-label"],["type","file","id","file","hidden","",3,"change"],["mat-raised-button","","color","primary",3,"click"],[1,"file-name"],["type","file","hidden","",3,"change"],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(n,i){if(n&1){let m=E();e(0,"h2",1),l(1),t(),e(2,"div",2)(3,"mat-form-field")(4,"mat-label"),l(5,"M\xE1rka"),t(),e(6,"input",3),M("ngModelChange",function(o){return d(m),_(i.car.brand,o)||(i.car.brand=o),c(o)}),t()(),f(7,"br"),e(8,"mat-form-field")(9,"mat-label"),l(10,"Model"),t(),e(11,"input",3),M("ngModelChange",function(o){return d(m),_(i.car.car_model,o)||(i.car.car_model=o),c(o)}),t()(),f(12,"br"),e(13,"mat-form-field")(14,"mat-label"),l(15,"\xC9vj\xE1rat"),t(),e(16,"input",4),M("ngModelChange",function(o){return d(m),_(i.car.year,o)||(i.car.year=o),c(o)}),t()(),f(17,"br"),e(18,"mat-form-field")(19,"mat-label"),l(20,"\xC1r/nap (Ft)"),t(),e(21,"input",4),M("ngModelChange",function(o){return d(m),_(i.car.price,o)||(i.car.price=o),c(o)}),t()(),f(22,"br"),e(23,"label",5),l(24,"Aut\xF3 k\xE9pe: "),t(),e(25,"input",6),u("change",function(o){return d(m),c(i.onFileSelected(o))}),t(),e(26,"button",7),u("click",function(){d(m);let o=k(31);return c(o.click())}),l(27,"F\xE1jl kiv\xE1laszt\xE1sa"),t(),e(28,"span",8),l(29),t(),e(30,"input",9,0),u("change",function(o){return d(m),c(i.onFileSelected(o))}),t()(),e(32,"div",10)(33,"button",11),u("click",function(){return d(m),c(i.onCancel())}),l(34,"M\xE9gse"),t(),e(35,"button",7),u("click",function(){return d(m),c(i.onSave())}),l(36,"Ment\xE9s"),t()()}n&2&&(s(),I(i.title),s(5),g("ngModel",i.car.brand),s(5),g("ngModel",i.car.car_model),s(5),g("ngModel",i.car.year),s(5),g("ngModel",i.car.price),s(8),b(" ",i.selectedFileName,""))},dependencies:[G,H,j,K,Y,D,R,N,P,W,T,v,O,L,z],encapsulation:2})};var A=class r{selectedFileName=null;title="";selectedFile=null;carService=C(V);car=C(B)??{brand:"",car_model:"",year:new Date().getFullYear(),price:0,_id:""};ngOnInit(){this.title="Aut\xF3 szerkezt\xE9se"}dialogRef=C(U);onSave(){this.carService.updateCar(this.car,this.selectedFile??null).subscribe({next:()=>this.dialogRef.close(),error:a=>console.error("Hiba ment\xE9s k\xF6zben:",a)})}onFileSelected(a){let n=a.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0],this.selectedFileName=n.files[0].name)}onCancel(){this.dialogRef.close()}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=y({type:r,selectors:[["update-car-dialog"]],decls:37,vars:6,consts:[["fileInput",""],["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","number",3,"ngModelChange","ngModel"],["for","file",1,"file-label"],["type","file","id","file","hidden","",3,"change"],["mat-raised-button","","color","primary",3,"click"],[1,"file-name"],["type","file","hidden","",3,"change"],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(n,i){if(n&1){let m=E();e(0,"h2",1),l(1),t(),e(2,"div",2)(3,"mat-form-field")(4,"mat-label"),l(5,"M\xE1rka"),t(),e(6,"input",3),M("ngModelChange",function(o){return d(m),_(i.car.brand,o)||(i.car.brand=o),c(o)}),t()(),f(7,"br"),e(8,"mat-form-field")(9,"mat-label"),l(10,"Model"),t(),e(11,"input",3),M("ngModelChange",function(o){return d(m),_(i.car.car_model,o)||(i.car.car_model=o),c(o)}),t()(),f(12,"br"),e(13,"mat-form-field")(14,"mat-label"),l(15,"\xC9vj\xE1rat"),t(),e(16,"input",4),M("ngModelChange",function(o){return d(m),_(i.car.year,o)||(i.car.year=o),c(o)}),t()(),f(17,"br"),e(18,"mat-form-field")(19,"mat-label"),l(20,"\xC1r/nap (Ft)"),t(),e(21,"input",4),M("ngModelChange",function(o){return d(m),_(i.car.price,o)||(i.car.price=o),c(o)}),t()(),f(22,"br"),e(23,"label",5),l(24,"Aut\xF3 k\xE9pe: "),t(),e(25,"input",6),u("change",function(o){return d(m),c(i.onFileSelected(o))}),t(),e(26,"button",7),u("click",function(){d(m);let o=k(31);return c(o.click())}),l(27,"F\xE1jl kiv\xE1laszt\xE1sa"),t(),e(28,"span",8),l(29),t(),e(30,"input",9,0),u("change",function(o){return d(m),c(i.onFileSelected(o))}),t()(),e(32,"div",10)(33,"button",11),u("click",function(){return d(m),c(i.onCancel())}),l(34,"M\xE9gse"),t(),e(35,"button",7),u("click",function(){return d(m),c(i.onSave())}),l(36,"Ment\xE9s"),t()()}n&2&&(s(),I(i.title),s(5),g("ngModel",i.car.brand),s(5),g("ngModel",i.car.car_model),s(5),g("ngModel",i.car.year),s(5),g("ngModel",i.car.price),s(8),b(" ",i.selectedFileName,""))},dependencies:[G,H,j,K,Y,D,R,N,P,W,T,v,O,L,z],encapsulation:2})};function Se(r,a){r&1&&(e(0,"th",15),l(1," Image "),t())}function Ee(r,a){if(r&1&&(e(0,"td",16),f(1,"img",17),t()),r&2){let n=a.$implicit;s(),x("src","http://localhost:5000"+n.imagePath,Q)}}function ye(r,a){r&1&&(e(0,"th",15),l(1," Brand "),t())}function De(r,a){if(r&1&&(e(0,"td",16),l(1),t()),r&2){let n=a.$implicit;s(),b(" ",n.brand," ")}}function ve(r,a){r&1&&(e(0,"th",15),l(1," Model "),t())}function Te(r,a){if(r&1&&(e(0,"td",16),l(1),t()),r&2){let n=a.$implicit;s(),b(" ",n.car_model," ")}}function Ve(r,a){r&1&&(e(0,"th",15),l(1," Year "),t())}function xe(r,a){if(r&1&&(e(0,"td",16),l(1),t()),r&2){let n=a.$implicit;s(),b(" ",n.year," ")}}function Ae(r,a){r&1&&(e(0,"th",15),l(1," Price/day "),t())}function Fe(r,a){if(r&1&&(e(0,"td",16),l(1),t()),r&2){let n=a.$implicit;s(),b(" ",n.price," ")}}function ke(r,a){r&1&&(e(0,"th",15),l(1," Actions "),t())}function Ie(r,a){if(r&1){let n=E();e(0,"td",16)(1,"button",18),u("click",function(){let m=d(n).$implicit,p=J();return c(p.editCar(m))}),e(2,"mat-icon"),l(3,"edit"),t()(),e(4,"button",19),u("click",function(){let m=d(n).$implicit,p=J();return c(p.deleteCar(m))}),e(5,"mat-icon"),l(6,"delete"),t()()()}}function Re(r,a){r&1&&f(0,"tr",20)}function Pe(r,a){r&1&&f(0,"tr",21)}function We(r,a){r&1&&(e(0,"p"),l(1,"No users available."),t())}var Me=class r{constructor(a,n,i){this.authService=a;this.router=n;this.carService=i}cars=[];dialog=C(fe);displayedColumns=["imagePath","brand","model","year","price","actions"];ngOnInit(){this.loadData()}openAddCarDialog(){this.dialog.open(q,{height:"600px",width:"1000px"}).afterClosed().subscribe(n=>{n!==void 0&&this.loadData()})}openUpdateCarDialog(){this.dialog.open(A,{height:"600px",width:"1000px"}).afterClosed().subscribe(n=>{n!==void 0&&this.loadData()})}deleteCar(a){this.carService.deleteCar(a).subscribe({next:n=>this.loadData(),error:n=>console.error("Hiba a ment\xE9s sor\xE1n:",n)})}editCar(a){this.dialog.open(A,{data:a,height:"600px",width:"1000px"}).afterClosed().subscribe(i=>{this.loadData()})}loadData(){this.carService.getAll().subscribe({next:a=>{this.cars=a},error:a=>{console.log(a)}})}static \u0275fac=function(n){return new(n||r)(F($),F(Z),F(V))};static \u0275cmp=y({type:r,selectors:[["app-car-management"]],decls:31,vars:3,consts:[["noUsersTemplate",""],[1,"table-container"],[1,"table-header"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","imagePath"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","brand"],["matColumnDef","model"],["matColumnDef","year"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["alt","K\xE9p","width","200",3,"src"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){if(n&1){let m=E();e(0,"div",1)(1,"div",2)(2,"h2"),l(3,"Aut\xF3k kezel\xE9se"),t(),e(4,"button",3),u("click",function(){return d(m),c(i.openAddCarDialog())}),e(5,"mat-icon"),l(6,"add"),t(),l(7," \xDAj aut\xF3 hozz\xE1ad\xE1sa "),t()(),e(8,"table",4),w(9,5),h(10,Se,2,0,"th",6)(11,Ee,2,1,"td",7),S(),w(12,8),h(13,ye,2,0,"th",6)(14,De,2,1,"td",7),S(),w(15,9),h(16,ve,2,0,"th",6)(17,Te,2,1,"td",7),S(),w(18,10),h(19,Ve,2,0,"th",6)(20,xe,2,1,"td",7),S(),w(21,11),h(22,Ae,2,0,"th",6)(23,Fe,2,1,"td",7),S(),w(24,12),h(25,ke,2,0,"th",6)(26,Ie,7,0,"td",7),S(),h(27,Re,1,0,"tr",13)(28,Pe,1,0,"tr",14),t()(),h(29,We,2,0,"ng-template",null,0,X)}n&2&&(s(8),x("dataSource",i.cars),s(19),x("matHeaderRowDef",i.displayedColumns),s(),x("matRowDefColumns",i.displayedColumns))},dependencies:[ue,ie,re,de,oe,ae,ce,le,me,se,pe,ne,te,T,v,ee,D],styles:[".table-container[_ngcontent-%COMP%]{max-width:900px;margin:20px auto;overflow-x:auto;align-self:top}.table-header[_ngcontent-%COMP%]{display:flex;margin-top:10%;justify-content:space-between;align-items:center;margin-bottom:15px}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:700;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd}button[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]})};export{Me as CarManagementComponent};
